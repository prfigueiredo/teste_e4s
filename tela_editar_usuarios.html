<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8"/>
    <title>Cadastro de Usuários</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('form').submit(function (event) {
                event.preventDefault(); // Evita o envio tradicional do formulário

                // Obter os valores dos campos de entrada
                var id = $('#id').val();
                var nome = $('#nome').val();
                var email = $('#email').val();
                var usuario = $('#usuario').val();
                var senha = $('#senha').val();
                var status = $('#status').val();

                // Enviar os dados via AJAX
                $.ajax({
                    url: 'logica_cadastro.php', 
                    method: 'PUT', // Método de envio
                    data: {
                        id: id,
                        nome: nome,
                        email: email,
                        usuario: usuario,
                        senha: senha,
                        status: status
                    },
                    success: function (response) {
                        // Manipular a resposta do servidor
                        alert(response); // Exibir uma mensagem de sucesso
                        $('form')[0].reset(); // Limpar os campos do formulário

                        // Redirecionar para a página tela_acesso.html
                        window.location.href = 'tela_usuarios.html';
                    }
                });
            });
        });
    </script>
</head>
<body>
    <h2>Formulário de edição de Usuários</h2>
    <form>
        <label for="id">ID:</label>
        <input type="text" name="id" id="id">

        <label for="nome">Nome:</label>
        <input type="text" name="nome" id="nome">

        <label for="email">Email:</label>
        <input type="text" name="email" id="email">

        <label for="senha">Usuário:</label>
        <input type="text" name="usuario" id="usuario">

        <label for="usuario">Senha:</label>
        <input type="text" name="senha" id="senha">

        <label for="status">status:</label>
        <input type="text" name="status" id="status">

        <input type="submit" value="Editar">
    </form>
</body>
</html>
